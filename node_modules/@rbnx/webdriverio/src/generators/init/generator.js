"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const devkit_1 = require("@nx/devkit");
const add_dependencies_1 = require("./lib/add-dependencies");
const create_config_file_1 = require("./lib/create-config-file");
const normalize_options_1 = require("./lib/normalize-options");
async function initGenerator(tree, options) {
    const { skipFormat } = options;
    const normalizedOptions = (0, normalize_options_1.normalizeOptions)(options);
    if (!tree.exists('wdio.base.config.ts')) {
        (0, create_config_file_1.createWdioBaseConfigFile)(tree, normalizedOptions);
    }
    const installTask = (0, add_dependencies_1.addDependencies)(tree, normalizedOptions);
    if (!skipFormat)
        await (0, devkit_1.formatFiles)(tree);
    return installTask;
}
exports.default = initGenerator;
//# sourceMappingURL=generator.js.map
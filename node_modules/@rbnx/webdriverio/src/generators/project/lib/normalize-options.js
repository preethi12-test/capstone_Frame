"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.normalizeOptions = void 0;
const devkit_1 = require("@nx/devkit");
function normalizeOptions(tree, options) {
    const project = (0, devkit_1.names)(options.project).fileName;
    const e2eProjectName = project + '-e2e';
    if (options.protocol) {
        options.services = options.services ?? [];
        if (options.protocol === 'devtools')
            options.services.push('devtools');
    }
    const projectDirectory = e2eProjectName;
    const projectName = projectDirectory.replace(new RegExp('/', 'g'), '-');
    const projectRoot = (0, devkit_1.joinPathFragments)((0, devkit_1.getWorkspaceLayout)(tree).appsDir, projectDirectory);
    const parsedTags = options.tags
        ? options.tags.split(',').map((s) => s.trim())
        : [];
    return {
        ...options,
        projectName,
        projectRoot,
        projectDirectory,
        parsedTags,
    };
}
exports.normalizeOptions = normalizeOptions;
//# sourceMappingURL=normalize-options.js.map